<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@1,400&display=swap"
      rel="stylesheet"
    />
    <title>Serendipity - 翻頁故事書</title>
    <style>
      .cover-author {
        font-size: 1rem;
        margin-top: 0.5rem;
        color: #999;
        font-family: "Cormorant Garamond", serif;
        font-style: italic;
      }

      .vinyl-container {
        margin-top: 2rem;
        width: 120px;
        height: 120px;
        position: relative;
      }
      #vinyl {
        width: 100%;
        height: 100%;
        border-radius: 50%;
        transition: transform 0.3s ease;
      }
      .spin {
        animation: spin 3s linear infinite;
      }
      @keyframes spin {
        from {
          transform: rotate(0deg);
        }
        to {
          transform: rotate(360deg);
        }
      }

      #lyrics {
        font-size: 1.2rem;
        max-width: 90%;
        line-height: 1.8;
        text-align: center;
        transition: opacity 0.5s ease;
      }
      .english-text {
        font-family: "Cormorant Garamond", serif;
        font-size: 1.2rem;
        font-style: italic;
        color: #777;
        margin-top: 1rem;
      }
      body {
        margin: 0;
        font-family: "Noto Sans TC", sans-serif;
        background: #fffaf8;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
      }
      .book {
        width: 90%;
        max-width: 600px;
        height: 80vh;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        border-radius: 16px;
        overflow: hidden;
        background: #ffffff;
        display: flex;
        flex-direction: column;
      }
      .page {
        flex: 1;
        padding: 2rem;
        display: none;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        font-size: 1.5rem;
        line-height: 2;
      }
      .page.active {
        display: flex;
      }
      .nav {
        display: flex;
        justify-content: space-between;
        padding: 1rem;
      }
      button {
        padding: 0.5rem 1rem;
        background: #ffc0cb;
        border: none;
        border-radius: 8px;
        font-size: 1rem;
        cursor: pointer;
        transition: background 0.3s;
      }
      button:hover {
        background: #ffa5b4;
      }
      .cover-title {
        font-size: 2.5rem;
        color: #ff82a9;
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <audio autoplay loop>
      <source src="be-my-ocean.mp3" type="audio/mpeg" />
      Your browser does not support the audio element.
    </audio>

    <div class="book">
      <div class="page active">
        <div class="cover-title">Serendipity</div>
        <div class="cover-author">Story by Jenny Chueh</div>
      </div>

      <div class="page">
        「我一直以為， 我的世界是由數字組成的。<br />一、二、三……一直到十。<br />一步一步，整齊又有秩序。」
        <div class="english-text">
          “I always thought my world was made of numbers. One, two, three… all
          the way to ten. Step by step, neat and tidy.”
        </div>
      </div>
      <div class="page">
        「我有我的計劃。<br />每個數字都有位置，<br />每條路都有規則。」
        <div class="english-text">
          “I had a plan. Every number had a place. Every path had a rule.”
        </div>
      </div>
      <div class="page">
        「直到……你出現了。」
        <div class="english-text">“But then… you came.”</div>
      </div>
      <div class="page">
        「你不是我計劃裡的數字。<br />你不照規則走。<br />你……很不一樣。」
        <div class="english-text">
          “You weren’t part of my numbers. You didn’t follow the rules. You
          were… different.”
        </div>
      </div>
      <div class="page">
        「一開始，我很困惑。<br />一切……是不是都壞掉了？」
        <div class="english-text">
          “At first, I was confused. Was everything broken now?”
        </div>
      </div>
      <div class="page">
        「但慢慢地，我看見了……<br />不是壞了，<br />而是變成了新的樣子。」
        <div class="english-text">
          “But slowly, I saw… It wasn’t broken. It was becoming something new.”
        </div>
      </div>
      <div class="page">
        「你沒有破壞規則，<br />而是成為了新的規則。」
        <div class="english-text">
          “You didn’t ruin the rules. You became the new rule. <br />And now my
          heart follows only yours.”
        </div>
      </div>
      <div class="page">
        「你不是例外，<br />你是我唯一的公式，<br />是我的新世界，我的現在<br />和未來。」
        <div class="english-text">
          “You’re not the exception. You are my only rule. My world, <br />my
          now and my forever.”
        </div>
      </div>
      <div class="page">
        <div
          style="
            font-size: 1.8rem;
            color: #ff82a9;
            margin-bottom: 1rem;
            font-weight: bold;
          "
        >
          To Eric
        </div>
        「緣分讓你來到我身邊——<br />
        不是偶然，<br />
        而是我們靈魂之間安靜又堅定的引力，<br />
        讓我們無法分離。」
        <div class="english-text">
          “Serendipity brought you to me—not by chance, <br />but by the quiet
          gravity of our souls <br />refusing to stay apart.”
        </div>
      </div>

      <div class="page" id="jukebox-page">
        <button id="playSongBtn" style="margin-top: 2rem">
          🎵 《Be My Ocean》
        </button>
        <div class="vinyl-container">
          <img id="vinyl" src="vinyl.png" alt="Vinyl Record" />
        </div>
        <audio id="jukebox-audio" src="be my ocean.m4a"></audio>
        <div
          id="lyrics"
          style="margin-top: 2rem; font-style: italic; color: #666"
        >
          <!-- 動態歌詞會出現在這裡 -->
        </div>
      </div>

      <div class="nav">
        <button onclick="prevPage()">← 上一頁</button>
        <button onclick="nextPage()">下一頁 →</button>
      </div>
    </div>

    <script>
      const pages = document.querySelectorAll(".page");
      let currentPage = 0;

      function showPage(index) {
        pages.forEach((p, i) => p.classList.toggle("active", i === index));
      }

      function nextPage() {
        if (currentPage < pages.length - 1) {
          currentPage++;
          showPage(currentPage);
        }
      }

      function prevPage() {
        if (currentPage > 0) {
          currentPage--;
          showPage(currentPage);
        }
      }

      const lyricsData = [
        { time: 0, text: "" },
        { time: 1, text: "I’m in love with you, yes\nI feel it" },
        { time: 7, text: "Will you be the one to catch these feelings" },
        {
          time: 12,
          text: "With you on this bed the air is something\nIt took my breath away",
        },
        {
          time: 20,
          text: "You’re my hopeless devotion\nDealing oh with you, I do with caution",
        },
        {
          time: 28,
          text: "Because I don’t want the two of us to be broken\nSo just take me",
        },
        { time: 36, text: "Be my ocean\nWhat is the commotion?" },
        {
          time: 42,
          text: "I just wanna dive in the river\nTo be with the one I love",
        },
        {
          time: 49,
          text: "And if I tried to hurt you\nStill I’d belong to you",
        },
        {
          time: 55,
          text: "Dive in the river\nTo be with\nTo be with the\nBe with the one I love",
        },
        {
          time: 65,
          text: "Am I dead already?\nAbandon ship, these waves they tip me over",
        },
        { time: 71, text: "And I’m just about to sink" },
        {
          time: 74,
          text: "But if you’re ever down and out\nAnd if there ever is a doubt\nThen you call me",
        },
        { time: 83, text: "Be my ocean\nWhat is the commotion?" },
        {
          time: 88,
          text: "I just wanna dive in the river\nTo be with the one I love",
        },
        {
          time: 94,
          text: "And if I tried to hurt you\nStill I’d belong to you",
        },
        { time: 100, text: "Dive in the river\nTo be with the one I love" },
        {
          time: 107,
          text: "Let it be\nJust you and me\nNow if I could drown in you",
        },
        { time: 114, text: "Baby please\nI need your release" },
        {
          time: 119,
          text: "Now if I could drown in you\nIf I could drown in you",
        },
        { time: 125, text: "And if I could\nAnd if I could drown in you" },
      ];

      const audio = document.getElementById("jukebox-audio");
      const playBtn = document.getElementById("playSongBtn");
      const lyricsEl = document.getElementById("lyrics");

      let isPlaying = false;

      playBtn.addEventListener("click", () => {
        if (isPlaying) {
          audio.pause();
          vinyl.classList.remove("spin");
          playBtn.textContent = "🎵 《Be My Ocean》";
        } else {
          audio.play();
          vinyl.classList.add("spin");
          playBtn.textContent = "⏸️ 我愛你寶寶❤️ ";
        }
        isPlaying = !isPlaying;
      });

      audio.addEventListener("timeupdate", () => {
        const currentTime = audio.currentTime;
        const currentLyric = lyricsData
          .slice()
          .reverse()
          .find((line) => currentTime >= line.time);
        if (currentLyric) {
          lyricsEl.innerHTML = currentLyric.text;
        }
      });
    </script>
  </body>
</html>
